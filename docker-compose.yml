version: "3.9"

networks:
  media:
    driver: bridge

volumes:
  jellyfin_cache:
  jellyfin_config:
  jackett_config:
  rdtclient_config:
  bazarr_config:
  tdarr_config:
  tdarr_logs:
  tdarr_server_config:
  mediamanager_config:
  wizarr_config:

services:

  jellyfin:
    image: jellyfin/jellyfin:latest
    container_name: jellyfin
    networks:
      - media
    user: "0:0"
    environment:
      - TZ=Etc/UTC
    volumes:
      - jellyfin_config:/config
      - jellyfin_cache:/cache
      - /PATH/TO/MEDIA_ROOT/media:/media
    ports:
      - "8096:8096"
    restart: unless-stopped

  jackett:
    image: lscr.io/linuxserver/jackett:latest
    container_name: jackett
    networks:
      - media
    environment:
      - PUID=0
      - PGID=0
      - TZ=Etc/UTC
    volumes:
      - jackett_config:/config
      - /PATH/TO/MEDIA_ROOT/downloads/jackett:/downloads
    ports:
      - "9117:9117"
    restart: unless-stopped

  rdtclient:
    image: rogerfar/rdtclient:latest
    container_name: rdtclient
    networks:
      - media
    environment:
      - PUID=0
      - PGID=0
      - TZ=Etc/UTC
    volumes:
      - rdtclient_config:/data/db
      - /PATH/TO/MEDIA_ROOT/downloads:/data/downloads
    ports:
      - "6500:6500"
    restart: unless-stopped

  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    networks:
      - media
    environment:
      - LOG_LEVEL=info
      - LOG_HTML=false
      - CAPTCHA_SOLVER=none
      - TZ=Etc/UTC
    ports:
      - "8191:8191"
    restart: unless-stopped

  bazarr:
    image: lscr.io/linuxserver/bazarr:latest
    container_name: bazarr
    networks:
      - media
    environment:
      - PUID=0
      - PGID=0
      - TZ=Etc/UTC
    volumes:
      - bazarr_config:/config
      - /PATH/TO/MEDIA_ROOT/media:/media
    ports:
      - "6767:6767"
    restart: unless-stopped

  tdarr:
    image: ghcr.io/tdarr/tdarr:latest
    container_name: tdarr
    networks:
      - media
    environment:
      - PUID=0
      - PGID=0
      - TZ=Etc/UTC
      - serverIP=0.0.0.0
      - serverPort=8266
      - webUIPort=8265
    volumes:
      - tdarr_config:/app/configs
      - tdarr_logs:/app/logs
      - tdarr_server_config:/app/server
      - /PATH/TO/MEDIA_ROOT/media:/media
      - /PATH/TO/MEDIA_ROOT/tdarr_cache:/temp
    ports:
      - "8265:8265"
      - "8266:8266"
    restart: unless-stopped

  mediamanager:
    image: ghcr.io/maxdorninger/mediamanager:latest
    container_name: mediamanager
    networks:
      - media
    environment:
      - TZ=Etc/UTC
      # add the rest of MediaManager env variables here (DB, language, etc.)
    volumes:
      - mediamanager_config:/app/data
      # point this to your media root so it can scan and manage
      - /PATH/TO/MEDIA_ROOT/media:/media
    ports:
      - "8787:8787"    # change if you prefer another external port
    restart: unless-stopped

  wizarr:
    image: ghcr.io/wizarrrr/wizarr:latest
    container_name: wizarr
    networks:
      - media
    environment:
      - TZ=Etc/UTC
      # configure these in the UI/compose as needed:
      # - APP_URL=https://your-domain
      # - INVITE_ONLY=true
      # - JELLYFIN_URL=http://jellyfin:8096
    volumes:
      - wizarr_config:/data
    ports:
      - "5690:5690"    # Wizarr web UI
    restart: unless-stopped
